<!-- modals/dp-modal.html -->
<div class="modal-backdrop" id="dpModal" data-modal="dpModal">
  <div class="modal-content">
    <div class="modal-header">
      <h2 class="modal-title">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" style="margin-right:8px;vertical-align:-4px;">
          <path d="M12 2L2 12H5V22H19V12H22L12 2Z" fill="#10b981"/>
          <path d="M9 12H15V18H9V12Z" fill="white"/>
        </svg>
        Tambah Down Payment
      </h2>
      <button type="button" class="close-modal-btn" aria-label="Tutup">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none">
          <path d="M18 6L6 18M6 6L18 18" stroke="#94a3b8" stroke-width="2.5" stroke-linecap="round"/>
        </svg>
      </button>
    </div>

    <div class="form-group">
      <label>Termin</label>
      <input type="text" id="dpTermin" placeholder="Contoh: DP 1, Termin 50%, Pelunasan">
    </div>

    <div class="form-group">
      <label>Nominal</label>
      <input type="number" id="dpNominal" placeholder="0">
      <div style="margin-top:8px; font-size:16px; color:#10b981; font-weight:700;" id="dpTotalRp">Rp 0</div>
    </div>

    <div class="form-group">
      <label>Tanggal</label>
      <input type="date" id="dpTanggal">
    </div>

    <div class="modal-actions">
      <button type="button" class="btn-cancel close-modal-btn">Batal</button>
      <button type="button" id="btnSimpanDP" class="btn-primary">
        Simpan DP
      </button>
    </div>
  </div>
</div>

<style>
  /* Pakai style yang sama seperti modal edit pengeluaran (biar konsisten) */
  .modal-backdrop { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.75); backdrop-filter:blur(10px); align-items:center; justify-content:center; z-index:999; padding:16px; animation:fadeIn .3s ease-out; }
  .modal-backdrop.active { display:flex !important; }
  .modal-content { background:#fff; border-radius:24px; max-width:460px; width:100%; padding:32px 28px; box-shadow:0 25px 60px rgba(0,0,0,.18); animation:slideUp .4s cubic-bezier(.16,1,.3,1); }
  .modal-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:24px; }
  .modal-title { margin:0; font-size:22px; font-weight:700; color:#1e293b; display:flex; align-items:center; }
  .close-modal-btn { background:none; border:none; cursor:pointer; padding:4px; border-radius:50%; transition:all .2s; }
  .close-modal-btn:hover { background:#f1f5f9; transform:rotate(90deg); }
  label { display:block; font-size:13.5px; font-weight:600; color:#475569; margin-bottom:8px; }
  input { width:100%; padding:14px 16px; border:2px solid #e2e8f0; border-radius:14px; font-size:15px; background:#fafafa; transition:all .25s; }
  input:focus { outline:none; border-color:#10b981; background:white; box-shadow:0 0 0 4px rgba(16,185,129,0.12); }
  .modal-actions { display:flex; gap:14px; margin-top:32px; }
  .btn-cancel { flex:1; padding:15px; background:#f8fafc; border:2px solid #e2e8f0; border-radius:16px; font-weight:600; color:#64748b; }
  .btn-cancel:hover { background:#e2e8f0; transform:translateY(-2px); }
  .btn-primary { flex:2; padding:16px; background:linear-gradient(135deg,#10b981,#059669); color:white; border:none; border-radius:16px; font-weight:700; font-size:15px; box-shadow:0 6px 16px rgba(16,185,129,.3); transition:all .3s; }
  .btn-primary:hover { transform:translateY(-3px); box-shadow:0 12px 24px rgba(16,185,129,.4); }
  @keyframes fadeIn { from{opacity:0} to{opacity:1} }
  @keyframes slideUp { from{transform:translateY(60px);opacity:0} to{transform:translateY(0);opacity:1} }

/* ============================================================= */
/* RESPONSIVE KHUSUS MODAL TAMBAH/EDIT PENGELUARAN (â‰¤ 480px)     */
/* ============================================================= */
@media (max-width: 480px) {

  /* Backdrop + padding biar nggak nempel pinggir layar */
  .modal-backdrop {
    padding: 20px;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  /* Modal jadi lebih ramping & nyaman di HP */
  .modal-content {
    padding: 28px 22px;
    border-radius: 20px;
    max-width: 380px;
    width: 94%;
  }

  /* Header modal */
  .modal-header {
    margin-bottom: 20px;
  }

  .modal-title {
    font-size: 20px;
  }

  .modal-title svg,
  .modal-title i {
    width: 28px;
    height: 28px;
    margin-right: 10px;
  }

  .close-modal-btn {
    width: 42px;
    height: 42px;
    font-size: 22px;
  }

  /* Label & input lebih kompak */
  label {
    font-size: 13px;
    margin-bottom: 6px;
  }

  input,
  select {
    padding: 13px 15px;
    font-size: 14.5px;
    border-width: 1.8px;
  }

  input:focus,
  select:focus {
    box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.15);
  }

  /* Tombol di bawah (Cancel + Simpan) */
  .modal-actions {
    flex-direction: column;     /* tombol bertumpuk = lebih mudah diketuk */
    gap: 12px;
    margin-top: 28px;
  }

  .btn-cancel,
  .btn-primary {
    flex: 1;
    padding: 15px 20px;
    font-size: 15px;
  }

  /* Primary button tetap lebar penuh */
  .btn-primary {
    order: -1;                  /* biar tombol Hijau di atas Cancel (lebih aman) */
  }

  /* Hover tetap aktif tapi lebih halus di HP */
  .btn-cancel:hover,
  .btn-primary:hover {
    transform: translateY(-3px);
  }

  /* Animasi slideUp sedikit lebih cepat biar nggak terasa lambat di HP */
  @keyframes slideUp {
    from { transform: translateY(50px); opacity: 0; }
    to   { transform: translateY(0); opacity: 1; }
  }
}

/* Untuk HP sangat kecil (iPhone SE, Galaxy Fold, dll) */
@media (max-width: 360px) {
  .modal-content {
    padding: 24px 18px;
  }
  .modal-title {
    font-size: 19px;
  }
  input,
  select {
    padding: 12px 14px;
    font-size: 14px;
  }
  .btn-cancel,
  .btn-primary {
    padding: 14px 18px;
    font-size: 14.5px;
  }
}

</style>